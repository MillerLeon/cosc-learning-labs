#Static Routes

* 04_static_route_capability.py - Determine whether the 'static route' capability is available for a specific device. If there are no devices with a static route capability, then none of the `04_*` scripts will work.

```
./04_static_route_capability.py 
Python Library Documentation: function inventory_static_route in module basics.routes

inventory_static_route(capability_revision=None, device_name=None)
    Determine which devices have 'static route' capability.
    
    A specific revision of the capability is optional.
    The discovery process can be scoped to a single device.
    Returns a list of device names.

inventory_static_route()
device-name
-------------
por
lax
sjc
sfc
min
sea
san
kcy
```

* 04_static_route_create.py - Show how to add a static route.

```
$ ./04_static_route_create.py
Python Library Documentation: function static_route_create in module basics.routes

static_route_create(device_name, destination_network, next_hop_address, description=None)
    Create the specified 'static route' on the specified network device.

Determine which network devices are capable.
inventory_static_route()
---
por
lax
sjc
sfc
min
sea
san
kcy
---

Select a destination network for which a static route does not exist.
static_route_exists(por, 2.2.2.2/32)
False

Determine which interface is on the management plane (to avoid it).
device_control(por)
DeviceControl
name         value
-----------  -----------
device_name  por
address      198.18.1.53
port         830
username     cisco
password     cisco

Determine ip-address and network-mask of every interface.
interface_configuration_tuple(por)
name                    description       shutdown  address      netmask            packet_filter_outbound    packet_filter_inbound  active
----------------------  --------------  ----------  -----------  ---------------  ------------------------  -----------------------  --------
GigabitEthernet0/0/0/1                           0  53.0.0.26    255.255.255.0                                                       act
Loopback0               Loopback                 0  26.26.26.26  255.255.255.255                                                     act
GigabitEthernet0/0/0/2                           0  54.0.0.26    255.255.255.0                                                       act
GigabitEthernet0/0/0/0                           0  10.11.12.6   255.255.255.0                                                       act
MgmtEth0/0/CPU0/0       OOB Management           0  198.18.1.53  255.255.255.0                                                       act

Determine next-hop for a network interface.
Match por/53.0.0.28/255.255.255.0 to sea/53.0.0.0/24
Next-hop for por/GigabitEthernet0/0/0/1 53.0.0.26/255.255.255.0 is 53.0.0.28.

static_route_create(por, 2.2.2.2/32, 53.0.0.28)
```

* 04_static_route_list.py - Show the static routes on a given device.

```
./04_static_route_list.py 
Python Library Documentation: function static_route_list in module basics.routes

static_route_list(device_name)
    List the destination network of all 'static routes' on the specified device.

Determine which devices are capable.
inventory_static_route()
device-name
-------------
por
lax
sjc
sfc
min
sea
san
kcy

static_route_list(por)
destination-network
---------------------
2.2.2.2/32
```

* 04_static_route_exists.py - Show whether a given static route exists on a given device.

```
$ ./04_static_route_exists.py
Python Library Documentation: function static_route_exists in module basics.routes

static_route_exists(device_name, destination_network)
    Determine whether the specified 'static route' exists on the specified device.

Determine which devices are capable.
inventory_static_route()
device-name
-------------
por
lax
sjc
sfc
min
sea
san
kcy

static_route_exists(por, 2.2.2.2/32)
True

static_route_exists(por, 3.3.3.3/32)
False
```

* 04_static_route_json.py - Show, in JSON format, all of the static routes on a given device, functionally equivalent to `show route`.

```
$ ./04_static_route_json.py
Python Library Documentation: function static_route_json in module basics.routes

static_route_json(device_name, destination_network=None)
    JSON representation of 'static route' configuration on the specified network device.
    
    Parameters:
    - device_name
        Identifies the network device.
    - destination_network
        Either None or an instance of type ipaddress._BaseNetwork
        - Unspecified
            Return all static routes on the device.
        - Specified
            Return only the route with the specified destination.
    
    Returns either a vector or a scalar, depending on the input parameters:
    - vector
        A list of zero or more routes.
    - scalar
        The route with the specified destination or None if not found.

Determine which devices are capable.
inventory_static_route()
---
por
lax
sjc
sfc
min
sea
san
kcy
---

Request all static routes.
static_route_json(por)
name         value
-----------  ----------
device       por
destination  2.2.2.2/32
next-hop     53.0.0.28

Request a specific static route.
static_route_json(por, 2.2.2.2/32)
{
  "prefix": "2.2.2.2", 
  "prefix-length": 32, 
  "vrf-route": {
    "vrf-next-hops": {
      "next-hop-address": [
        {
          "next-hop-address": "53.0.0.28"
        }
      ]
    }
  }
}
```
* 04_static_route_delete.py      
```
$ ./04_static_route_delete.py
Python Library Documentation: function static_route_delete in module basics.routes

static_route_delete(device_name, destination_network=None)
    Delete zero, one or more static routes from the specified device.
    
    Parameters:
    - device_name
        Identifies the network device.
    - destination_network
        Either None or an instance of type ipaddress._BaseNetwork
        - Unspecified
            Delete all static routes on the device.
            An exception is raised if there are no routes found on the device.
        - Specified
            Delete the route with the specified destination.
            An exception is raised if the specified route is not found on the device.
    
    No value is returned.
    An exception is raised if the static route does not exist on the device.

Determine which devices are capable.
inventory_static_route()
device-name
-------------
por
lax
sjc
sfc
min
sea
san
kcy

static_route_list(por)
destination-network
---------------------
2.2.2.2/32

static_route_delete(por, 2.2.2.2/32)

static_route_list(por)
destination-network
---------------------
None
```

* 04_routes.py - Print a JSON document showing all routes.

```
$ ./04_routes.py - Show the BGP RIB in JSON format.
```
```json
('routes', {u'tables': [{u'attributes': {u'uptodate': True}, u'bgp-linkstate:linkstate-routes': {u'linkstate-route': [{u'ip-reachability-information': u'56.0.0.0/24', u'protocol-id': u'isis-level2', u'attributes': {u'origin': {u'value': u'igp'}, u'local-pref': {u'pref': 100}, u'prefix-attributes': {u'prefix-metric': 10}, u'as-path': {}}, u'identifier': 0, u'route-key': u'AAMALwIAAAAAAAAAAAEAABoCAAAEAAD/4AIBAAQeHh4eAgMABgAAAAAAMAEJAAQYOAAA', u'advertising-node-descriptors': {u'domain-id': 505290270, u'as-number': 65504, u'isis-node': {u'iso-system-id': u'AAAAAAAw'}}},...
```
