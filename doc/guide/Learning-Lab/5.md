# Step 5 Seeing What Else You Can Do

One the key concepts in [Netconf](https://tools.ietf.org/html/rfc6241) is ["capabilities"](https://tools.ietf.org/html/rfc6241#section-1.3). These capabilities are implemented by the network elements that the controller manages, and the controller acts as an agent for the network elements, passing through what it discovers on the network elements. What this means overall, then, is that the main factor determining what you can do next is what the network elements support.

To see what capabilities the network elements support, use any script with a file name containing the word \*capability\*.

* 02_capability.py - Prints the capabilities supported by each device.

```
./02_capability.py 
por (http://cisco.com/ns/yang/Cisco-IOS-XR-shellutil-cfg?revision=2013-07-22)Cisco-IOS-XR-shellutil-cfg
por (http://cisco.com/ns/yang/Cisco-IOS-XR-ifmgr-oper?revision=2013-07-22)Cisco-IOS-XR-ifmgr-oper
por (http://cisco.com/ns/yang/Cisco-IOS-XR-infra-infra-cfg?revision=2013-07-22)Cisco-IOS-XR-infra-infra-cfg
...
```

* 02_capability_discovery.py - Demonstrate how to discover the capability of network devices.

```
Demonstrate how to discover the capability of network devices.

The following demonstrations are performed:
1. Discover all capabilities of all network devices.
2. Discover which network devices are capable of a specific task.
3. Attempt discovery of a capability that is unavailable.

1. Discover all capabilities of all network devices.
Display summaries because the entire list is too long.
capability_discovery()

device name      # capabilities
-------------  ----------------
kcy                         177
min                         177
por                         177
san                         177
sea                         177
sjc                         177

capability name                              # devices    # revisions    # name-spaces
-----------------------------------------  -----------  -------------  ---------------
BGP4-MIB                                             6              1                1
BRIDGE-MIB                                           6              1                1
CISCO-AAA-SERVER-MIB                                 6              1                1
CISCO-BGP4-MIB                                       6              1                1
CISCO-BULK-FILE-MIB                                  6              1                1
CISCO-CONFIG-COPY-MIB                                6              1                1
CISCO-CONFIG-MAN-MIB                                 6              1                1
CISCO-ENHANCED-MEMPOOL-MIB                           6              1                1
CISCO-ENTITY-FRU-CONTROL-MIB                         6              1                1
CISCO-ENTITY-REDUNDANCY-MIB                          6              1                1
CISCO-ENTITY-REDUNDANCY-TC-MIB                       6              1                1
CISCO-ENTITY-SENSOR-MIB                              6              1                1
CISCO-FLASH-MIB                                      6              1                1
CISCO-IETF-PW-MIB                                    6              1                1
CISCO-IETF-PW-TC-MIB                                 6              1                1
CISCO-IETF-VPLS-GENERIC-MIB                          6              1                1
CISCO-RF-MIB                                         6              1                1
CISCO-SUBSCRIBER-SESSION-MIB                         6              1                1
CISCO-SUBSCRIBER-SESSION-TC-MIB                      6              1                1
CISCO-SYSLOG-MIB                                     6              1                1
Cisco-IOS-XR-aaa-lib-cfg                             6              1                1
Cisco-IOS-XR-aaa-locald-admin-cfg                    6              1                1
Cisco-IOS-XR-aaa-locald-cfg                          6              1                1
Cisco-IOS-XR-aaa-locald-oper                         6              1                1
Cisco-IOS-XR-bundlemgr-cfg                           6              1                1
Cisco-IOS-XR-bundlemgr-oper                          6              1                1
Cisco-IOS-XR-cdp-cfg                                 6              1                1
Cisco-IOS-XR-cdp-oper                                6              1                1
Cisco-IOS-XR-clns-isis-cfg                           6              1                1
Cisco-IOS-XR-clns-isis-datatypes                     6              1                1
Cisco-IOS-XR-clns-isis-oper                          6              1                1
Cisco-IOS-XR-common-acl-datatypes                    6              1                1
Cisco-IOS-XR-config-mda-cfg                          6              1                1
Cisco-IOS-XR-config-mibs-cfg                         6              1                1
Cisco-IOS-XR-crypto-sam-cfg                          6              1                1
Cisco-IOS-XR-crypto-sam-oper                         6              1                1
Cisco-IOS-XR-crypto-ssh-cfg                          6              1                1
Cisco-IOS-XR-crypto-ssh-oper                         6              1                1
Cisco-IOS-XR-drivers-media-eth-cfg                   6              1                1
Cisco-IOS-XR-drivers-media-eth-oper                  6              1                1
Cisco-IOS-XR-dwdm-ui-cfg                             6              1                1
Cisco-IOS-XR-dwdm-ui-oper                            6              1                1
Cisco-IOS-XR-ethernet-cfm-cfg                        6              1                1
Cisco-IOS-XR-ethernet-cfm-datatypes                  6              1                1
Cisco-IOS-XR-ethernet-cfm-oper                       6              1                1
Cisco-IOS-XR-ethernet-link-oam-cfg                   6              1                1
Cisco-IOS-XR-ethernet-link-oam-oper                  6              1                1
Cisco-IOS-XR-fib-common-oper                         6              1                1
Cisco-IOS-XR-ha-eem-cfg                              6              1                1
Cisco-IOS-XR-ha-eem-oper                             6              1                1
Cisco-IOS-XR-icpe-infra-cfg                          6              1                1
Cisco-IOS-XR-icpe-infra-oper                         6              1                1
Cisco-IOS-XR-ifmgr-cfg                               6              1                1
Cisco-IOS-XR-ifmgr-oper                              6              1                1
Cisco-IOS-XR-infra-alarm-logger-cfg                  6              1                1
Cisco-IOS-XR-infra-alarm-logger-datatypes            6              1                1
Cisco-IOS-XR-infra-alarm-logger-oper                 6              1                1
Cisco-IOS-XR-infra-ceredundancymib-cfg               6              1                1
Cisco-IOS-XR-infra-correlator-cfg                    6              1                1
Cisco-IOS-XR-infra-correlator-oper                   6              1                1
Cisco-IOS-XR-infra-i2ss-cfg                          6              1                1
Cisco-IOS-XR-infra-infra-cfg                         6              1                1
Cisco-IOS-XR-infra-rsi-cfg                           6              1                1
Cisco-IOS-XR-infra-rsi-oper                          6              1                1
Cisco-IOS-XR-infra-sla-cfg                           6              1                1
Cisco-IOS-XR-infra-sla-datatypes                     6              1                1
Cisco-IOS-XR-infra-sla-oper                          6              1                1
Cisco-IOS-XR-infra-statsd-cfg                        6              1                1
Cisco-IOS-XR-infra-statsd-oper                       6              1                1
Cisco-IOS-XR-infra-syslog-cfg                        6              1                1
Cisco-IOS-XR-infra-syslog-oper                       6              1                1
Cisco-IOS-XR-infra-systemmib-cfg                     6              1                1
Cisco-IOS-XR-installmgr-admin-oper                   6              1                1
Cisco-IOS-XR-ip-bfd-cfg                              6              1                1
Cisco-IOS-XR-ip-bfd-oper                             6              1                1
Cisco-IOS-XR-ip-domain-cfg                           6              1                1
Cisco-IOS-XR-ip-domain-oper                          6              1                1
Cisco-IOS-XR-ip-iarm-datatypes                       6              1                1
Cisco-IOS-XR-ip-ntp-cfg                              6              1                1
Cisco-IOS-XR-ip-ntp-oper                             6              1                1
Cisco-IOS-XR-ip-pfilter-cfg                          6              1                1
Cisco-IOS-XR-ip-rib-cfg                              6              1                1
Cisco-IOS-XR-ip-rib-ipv4-oper                        6              1                1
Cisco-IOS-XR-ip-rib-ipv6-oper                        6              1                1
Cisco-IOS-XR-ip-static-cfg                           6              1                1
Cisco-IOS-XR-ip-tcp-cfg                              6              1                1
Cisco-IOS-XR-ip-tcp-oper                             6              1                1
Cisco-IOS-XR-ipv4-acl-cfg                            6              1                1
Cisco-IOS-XR-ipv4-acl-datatypes                      6              1                1
Cisco-IOS-XR-ipv4-acl-oper                           6              1                1
Cisco-IOS-XR-ipv4-arp-cfg                            6              1                1
Cisco-IOS-XR-ipv4-arp-oper                           6              1                1
Cisco-IOS-XR-ipv4-bgp-cfg                            6              1                1
Cisco-IOS-XR-ipv4-bgp-datatypes                      6              1                1
Cisco-IOS-XR-ipv4-bgp-oper                           6              1                1
Cisco-IOS-XR-ipv4-igmp-cfg                           6              1                1
Cisco-IOS-XR-ipv4-igmp-oper                          6              1                1
Cisco-IOS-XR-ipv4-io-cfg                             6              1                1
Cisco-IOS-XR-ipv4-io-oper                            6              1                1
Cisco-IOS-XR-ipv4-ma-cfg                             6              1                1
Cisco-IOS-XR-ipv4-ma-oper                            6              1                1
Cisco-IOS-XR-ipv4-mfwd-cfg                           6              1                1
Cisco-IOS-XR-ipv4-mfwd-oper                          6              1                1
Cisco-IOS-XR-ipv4-mrib-oper                          6              1                1
Cisco-IOS-XR-ipv4-pim-cfg                            6              1                1
Cisco-IOS-XR-ipv4-pim-oper                           6              1                1
Cisco-IOS-XR-ipv6-acl-cfg                            6              1                1
Cisco-IOS-XR-ipv6-acl-datatypes                      6              1                1
Cisco-IOS-XR-ipv6-acl-oper                           6              1                1
Cisco-IOS-XR-ipv6-ma-cfg                             6              1                1
Cisco-IOS-XR-ipv6-ma-oper                            6              1                1
Cisco-IOS-XR-ipv6-nd-cfg                             6              1                1
Cisco-IOS-XR-ipv6-nd-oper                            6              1                1
Cisco-IOS-XR-ipv6-new-dhcpv6d-cfg                    6              1                1
Cisco-IOS-XR-ipv6-new-dhcpv6d-oper                   6              1                1
Cisco-IOS-XR-l2-eth-infra-cfg                        6              1                1
Cisco-IOS-XR-l2-eth-infra-datatypes                  6              1                1
Cisco-IOS-XR-l2-eth-infra-oper                       6              1                1
Cisco-IOS-XR-l2vpn-cfg                               6              1                1
Cisco-IOS-XR-l2vpn-oper                              6              1                1
Cisco-IOS-XR-lib-keychain-cfg                        6              1                1
Cisco-IOS-XR-lib-keychain-oper                       6              1                1
Cisco-IOS-XR-lib-mpp-cfg                             6              1                1
Cisco-IOS-XR-lib-mpp-oper                            6              1                1
Cisco-IOS-XR-lpts-lib-cfg                            6              1                1
Cisco-IOS-XR-man-evc-cfg                             6              1                1
Cisco-IOS-XR-man-netconf-cfg                         6              1                1
Cisco-IOS-XR-man-xml-ttyagent-cfg                    6              1                1
Cisco-IOS-XR-man-xml-ttyagent-oper                   6              1                1
Cisco-IOS-XR-parser-cfg                              6              1                1
Cisco-IOS-XR-pfi-im-cmd-oper                         6              1                1
Cisco-IOS-XR-plat-chas-invmgr-oper                   6              1                1
Cisco-IOS-XR-policy-repository-cfg                   6              1                1
Cisco-IOS-XR-policy-repository-oper                  6              1                1
Cisco-IOS-XR-qos-ma-oper                             6              1                1
Cisco-IOS-XR-rgmgr-cfg                               6              1                1
Cisco-IOS-XR-rgmgr-oper                              6              1                1
Cisco-IOS-XR-shellutil-cfg                           6              1                1
Cisco-IOS-XR-shellutil-oper                          6              1                1
Cisco-IOS-XR-snmp-agent-cfg                          6              1                1
Cisco-IOS-XR-snmp-agent-oper                         6              1                1
Cisco-IOS-XR-snmp-entitymib-cfg                      6              1                1
Cisco-IOS-XR-snmp-entstatemib-cfg                    6              1                1
Cisco-IOS-XR-snmp-frucontrolmib-cfg                  6              1                1
Cisco-IOS-XR-snmp-ifmib-cfg                          6              1                1
Cisco-IOS-XR-snmp-ifmib-oper                         6              1                1
Cisco-IOS-XR-syslog-notification                     6              1                1
Cisco-IOS-XR-tty-management-cfg                      6              1                1
Cisco-IOS-XR-tty-management-datatypes                6              1                1
Cisco-IOS-XR-tty-management-oper                     6              1                1
Cisco-IOS-XR-tty-server-cfg                          6              1                1
Cisco-IOS-XR-tty-server-oper                         6              1                1
Cisco-IOS-XR-tty-vty-cfg                             6              1                1
Cisco-IOS-XR-types                                   6              1                1
DISMAN-EVENT-MIB                                     6              1                1
ENTITY-MIB                                           6              1                1
IANA-ADDRESS-FAMILY-NUMBERS-MIB                      6              1                1
IEEE8021-CFM-MIB                                     6              1                1
IF-MIB                                               6              1                1
INET-ADDRESS-MIB                                     6              1                1
MPLS-TC-STD-MIB                                      6              1                1
MPLS-TE-STD-MIB                                      6              1                1
SNMP-FRAMEWORK-MIB                                   6              1                1
SNMPv2-MIB                                           6              1                1
SNMPv2-TC                                            6              1                1
VPN-TC-STD-MIB                                       6              1                1
access-dhcp                                          6              1                1
access-ldp                                           6              1                1
access-topology                                      6              1                1
ietf-inet-types                                      6              1                1
ietf-pwe3-types                                      6              1                1
ietf-syslog-notification                             6              1                1
ietf-syslog-types                                    6              1                1
ietf-yang-smiv2                                      6              1                1
ietf-yang-types                                      6              1                1
nc-notifications                                     6              1                1
notifications                                        6              1                1

The following summaries consider each capability only once, 
regardless of how many network devices have that capability.

List revisions of capabilities in sorted order (often chronological).
capability revision      # capabilities
---------------------  ----------------
1995-08-07                            1
1995-11-09                            1
1995-11-28                            1
1996-01-01                            1
1996-11-03                            1
1997-01-15                            1
1999-01-19                            1
1999-12-07                            1
2000-09-08                            1
2000-10-16                            1
2001-08-22                            1
2002-05-09                            1
2002-10-16                            1
2003-02-26                            1
2003-10-27                            1
2003-11-24                            1
2004-03-17                            1
2004-06-03                            2
2005-04-01                            1
2005-09-01                            1
2005-09-19                            1
2005-10-01                            2
2006-01-11                            1
2007-06-10                            1
2007-10-22                            1
2008-07-14                            2
2008-12-05                            1
2010-09-30                            1
2011-03-16                            1
2011-11-25                            1
2012-01-27                            1
2012-07-31                            1
2013-07-15                            2
2014-06-03                            1
2014-08-17                            1
2014-08-20                            1
2014-09-06                            1
2014-09-11                            1
2014-10-08                            1
2014-10-14                            1
2015-01-07                          132
2015-01-19                            1

capability name-space                              # capabilities    # revisions
-----------------------------------------------  ----------------  -------------
http://cisco.com/ns/yang/                                     132              1
http://cisco.com/ns/yang/cisco-xr-types                         1              1
urn:cisco:params:xml:ns:yang:                                   4              4
urn:ietf:params:xml:ns:netconf:notification:1.0                 1              1
urn:ietf:params:xml:ns:netmod:notification                      1              1
urn:ietf:params:xml:ns:yang:                                    6              5
urn:ietf:params:xml:ns:yang:smiv2:                             32             30

Note that all the information contained in the multiple summaries, 
above, came from a single request (RPC) to the Controller.

2. Discover which network devices are capable of a specific task.
The appropriate capability must be determined.
For convenience, this demonstration chooses any one capability.

capability_discovery(Cisco-IOS-XR-config-mda-cfg, http://cisco.com/ns/yang/)
device-name    capability-revision
-------------  ---------------------
por            2015-01-07
sjc            2015-01-07
min            2015-01-07
sea            2015-01-07
san            2015-01-07
kcy            2015-01-07

3. Attempt discovery of a capability that is unavailable.
If there are no capable devices then an empty list is returned.
This is demonstrated using a capability that is unavailable.

capability_discovery(teleport, http://startrek.com/ns/yang/)
device-name    capability-revision
-------------  ---------------------
None           None

Function Reference:
Python Library Documentation: function capability_discovery in module basics.inventory

capability_discovery(capability_name=None, capability_ns=None, capability_revision=None, device_name=None)
    Discover network capability.
    
    Parameters:
    - device_name
        If specified then other network devices are excluded.
    - capability_name
        For example, 'Cisco-IOS-XR-cdp-oper'.
        If specified then non-matching capabilities are excluded.
    - capability_ns
        The name-space, such as 'http://cisco.com/ns/yang/'.
        If specified then non-matching capabilities are excluded.
    - capability_revision
        Type string but usually represents a day, such as '2015-01-07'.
        If specified then non-matching capabilities are excluded.
        There is no ability to search for a range of revisions,
        such as 'on or after 2015-01-07'. To achieve this, leave this
        parameter unspecified then apply a filter to the output.
    
    Returns a list of nested tuples, structured as follows:
        (device_name, (capability_name, capability_ns, capability_revision)).

```
For each section of scripts for a given feature, there is also a script that will test which devices have the required capability to work with the feature, e.g.:
		
* 04_static_route_capability.py - Iterate through connected devices looking for the capability to add static routes.

```
./04_static_route_capability.py
Python Library Documentation: function capability_discovery in module basics.inventory

capability_discovery(capability_name=None, capability_ns=None, capability_revision=None, device_name=None)
    Discover the revision of the specified capability for a set of devices.
    
    The entire inventory will be examined unless a single device is specified.
    Function output is a list of tuples. 
    Each tuple consists of (device_name, (capability_name, capability_ns, capability_revision).

capability_discovery(device_name=sjc, capability_name=Cisco-IOS-XR-ip-static-cfg, capability_ns=http://cisco.com/ns/yang/)
	 ('sjc', ('Cisco-IOS-XR-ip-static-cfg', 'http://cisco.com/ns/yang/', '2015-01-07'))
```

* 05_acl_capability.py - Iterate through the connected devices looking for the capability to configure ACLs.

```
./05_acl_capability.py
Python Library Documentation: function capability_discovery in module basics.inventory

capability_discovery(capability_name=None, capability_ns=None, capability_revision=None, device_name=None)
    Discover the revision of the specified capability for a set of devices.
    
    The entire inventory will be examined unless a single device is specified.
    Function output is a list of tuples. 
    Each tuple consists of (device_name, (capability_name, capability_ns, capability_revision).

capability_discovery(device_name=sjc, capability_name=Cisco-IOS-XR-ipv4-acl-cfg, capability_ns=http://cisco.com/ns/yang/)
('sjc', ('Cisco-IOS-XR-ipv4-acl-cfg', 'http://cisco.com/ns/yang/', '2015-01-07'))
```

As this is a growing body of code, to see which scripts there are, use the `ls` command as shown below (note that this is a just an elided example of what you will see, as the content will grow over time): 

```
ls -1 *_capability*.py
02_capability.py
02_capability_compare.py
02_capability_discovery.py
02_capability_matrix.py
04_static_route_capability.py
05_acl_capability.py
```

Scripts that require a particular capability, such as `05_acl_capability.py`, will fail elegantly with an appropriate message when the network topology does not contain a network device that is capable.

Capabilities are explored in the following related topics.

* [Displaying the Connected Devices and Inventory](2.md)
* [Interfaces](4.md)
* [Static Routes](5.md)
* [ACLs](6.md)
* [Topology](7.md)
